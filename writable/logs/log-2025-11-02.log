DEBUG - 2025-11-02 06:44:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 06:44:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 06:44:21 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 06:58:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 06:58:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 06:58:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-11-02 06:58:12 --> [getAntrianPendaftaran] CURDATE: 2025-11-02
INFO - 2025-11-02 06:58:12 --> [getAntrianPendaftaran] Query: SELECT 
                    a.id,
                    a.no_antrian,
                    a.no_rm,
                    p.nama_lengkap as nama_pasien,
                    pol.nama as poli_tujuan,
                    a.status,
                    a.created_at,
                    DATE(a.created_at) as created_date
                FROM antrian a
                LEFT JOIN pasien p ON BINARY p.no_rekam_medis = BINARY a.no_rm
                LEFT JOIN poliklinik pol ON pol.id = a.id_poli
                WHERE a.status = 'Menunggu Pemeriksaan'
                  AND DATE(a.created_at) = CURDATE()
                ORDER BY a.created_at ASC
INFO - 2025-11-02 06:58:12 --> [getAntrianPendaftaran] Total rows: 0
INFO - 2025-11-02 06:58:12 --> [getAntrianPendaftaran] Data: []
DEBUG - 2025-11-02 06:58:12 --> [Perawat::getAntrianPendaftaran] Builder state before execute
DEBUG - 2025-11-02 06:58:12 --> [Perawat::getAntrianPendaftaran] SQL: SELECT 
                    a.id,
                    a.no_antrian,
                    a.no_rm,
                    p.nama_lengkap as nama_pasien,
                    pol.nama as poli_tujuan,
                    a.status,
                    a.created_at,
                    DATE(a.created_at) as created_date
                FROM antrian a
                LEFT JOIN pasien p ON BINARY p.no_rekam_medis = BINARY a.no_rm
                LEFT JOIN poliklinik pol ON pol.id = a.id_poli
                WHERE a.status = 'Menunggu Pemeriksaan'
                  AND DATE(a.created_at) = CURDATE()
                ORDER BY a.created_at ASC
DEBUG - 2025-11-02 06:58:12 --> [Perawat::getAntrianPendaftaran] Data count: 0
DEBUG - 2025-11-02 06:58:12 --> [Perawat::getAntrianPendaftaran] Data: []
DEBUG - 2025-11-02 06:58:12 --> Response: {"data":[],"recordsTotal":0,"recordsFiltered":0,"debug":{"sql":"SELECT \n                    a.id,\n                    a.no_antrian,\n                    a.no_rm,\n                    p.nama_lengkap as nama_pasien,\n                    pol.nama as poli_tujuan,\n                    a.status,\n                    a.created_at,\n                    DATE(a.created_at) as created_date\n                FROM antrian a\n                LEFT JOIN pasien p ON BINARY p.no_rekam_medis = BINARY a.no_rm\n                LEFT JOIN poliklinik pol ON pol.id = a.id_poli\n                WHERE a.status = 'Menunggu Pemeriksaan'\n                  AND DATE(a.created_at) = CURDATE()\n                ORDER BY a.created_at ASC","error":null}}
DEBUG - 2025-11-02 06:58:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 06:58:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 06:58:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 06:59:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 07:20:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 07:20:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 07:20:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 07:21:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 07:21:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 07:21:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 07:21:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 07:21:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 07:21:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 07:22:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 07:27:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-11-02 07:27:56 --> mysqli_sql_exception: Unknown column 'o.harga' in 'field list' in D:\KP\SIMRSv2\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\KP\SIMRSv2\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT SUM(r.ju...', 0)
#1 D:\KP\SIMRSv2\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT SUM(r.ju...')
#2 D:\KP\SIMRSv2\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT SUM(r.ju...')
#3 D:\KP\SIMRSv2\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT SUM(r.ju...', Array, false)
#4 D:\KP\SIMRSv2\app\Controllers\Farmasi.php(978): CodeIgniter\Database\BaseBuilder->get()
#5 D:\KP\SIMRSv2\system\CodeIgniter.php(933): App\Controllers\Farmasi->laporanFarmasi()
#6 D:\KP\SIMRSv2\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Farmasi))
#7 D:\KP\SIMRSv2\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\KP\SIMRSv2\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#9 D:\KP\SIMRSv2\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#10 D:\KP\SIMRSv2\public\index.php(56): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#11 D:\KP\SIMRSv2\system\rewrite.php(44): require_once('D:\\KP\\SIMRSv2\\p...')
#12 {main}
CRITICAL - 2025-11-02 07:27:56 --> CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'o.harga' in 'field list'
[Method: GET, Route: farmasi/laporan]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT SUM(r.jumlah * o.harga) as total
FROM `resep` `r`
LEFT JOIN `obat` `o` ON `o`.`id` = `r`.`id_obat`
WHERE DATE(r.tanggal_resep) = :DATE(r.tanggal_resep):
AND `r`.`status` = :r.status:', [...], false)
 2 APPPATH\Controllers\Farmasi.php(978): CodeIgniter\Database\BaseBuilder->get()
 3 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Farmasi->laporanFarmasi()
 4 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Farmasi))
 5 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 6 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 7 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 8 FCPATH\index.php(56): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
 9 SYSTEMPATH\rewrite.php(44): require_once('D:\\KP\\SIMRSv2\\public\\index.php')
CRITICAL - 2025-11-02 07:27:56 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'o.harga' in 'field list'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT SUM(r.jumlah * o.harga) as total
FROM `resep` `r`
LEFT JOIN `obat` `o` ON `o`.`id` = `r`.`id_obat`
WHERE DATE(r.tanggal_resep) = \'2025-11-02\'
AND `r`.`status` = \'completed\'')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT SUM(r.jumlah * o.harga) as total
FROM `resep` `r`
LEFT JOIN `obat` `o` ON `o`.`id` = `r`.`id_obat`
WHERE DATE(r.tanggal_resep) = \'2025-11-02\'
AND `r`.`status` = \'completed\'')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT SUM(r.jumlah * o.harga) as total
FROM `resep` `r`
LEFT JOIN `obat` `o` ON `o`.`id` = `r`.`id_obat`
WHERE DATE(r.tanggal_resep) = :DATE(r.tanggal_resep):
AND `r`.`status` = :r.status:', [...], false)
 4 APPPATH\Controllers\Farmasi.php(978): CodeIgniter\Database\BaseBuilder->get()
 5 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Farmasi->laporanFarmasi()
 6 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Farmasi))
 7 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 8 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 9 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
10 FCPATH\index.php(56): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
11 SYSTEMPATH\rewrite.php(44): require_once('D:\\KP\\SIMRSv2\\public\\index.php')
CRITICAL - 2025-11-02 07:27:56 --> [Caused by] mysqli_sql_exception: Unknown column 'o.harga' in 'field list'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT SUM(r.jumlah * o.harga) as total
FROM `resep` `r`
LEFT JOIN `obat` `o` ON `o`.`id` = `r`.`id_obat`
WHERE DATE(r.tanggal_resep) = \'2025-11-02\'
AND `r`.`status` = \'completed\'', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT SUM(r.jumlah * o.harga) as total
FROM `resep` `r`
LEFT JOIN `obat` `o` ON `o`.`id` = `r`.`id_obat`
WHERE DATE(r.tanggal_resep) = \'2025-11-02\'
AND `r`.`status` = \'completed\'')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT SUM(r.jumlah * o.harga) as total
FROM `resep` `r`
LEFT JOIN `obat` `o` ON `o`.`id` = `r`.`id_obat`
WHERE DATE(r.tanggal_resep) = \'2025-11-02\'
AND `r`.`status` = \'completed\'')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT SUM(r.jumlah * o.harga) as total
FROM `resep` `r`
LEFT JOIN `obat` `o` ON `o`.`id` = `r`.`id_obat`
WHERE DATE(r.tanggal_resep) = :DATE(r.tanggal_resep):
AND `r`.`status` = :r.status:', [...], false)
 5 APPPATH\Controllers\Farmasi.php(978): CodeIgniter\Database\BaseBuilder->get()
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Farmasi->laporanFarmasi()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Farmasi))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(56): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
12 SYSTEMPATH\rewrite.php(44): require_once('D:\\KP\\SIMRSv2\\public\\index.php')
DEBUG - 2025-11-02 07:32:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-11-02 07:32:03 --> mysqli_sql_exception: Unknown column 'tanggal_kadaluarsa' in 'where clause' in D:\KP\SIMRSv2\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\KP\SIMRSv2\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT *\nFROM `...', 0)
#1 D:\KP\SIMRSv2\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT *\nFROM `...')
#2 D:\KP\SIMRSv2\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT *\nFROM `...')
#3 D:\KP\SIMRSv2\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT *\nFROM `...', Array, false)
#4 D:\KP\SIMRSv2\app\Controllers\Farmasi.php(987): CodeIgniter\Database\BaseBuilder->get()
#5 D:\KP\SIMRSv2\system\CodeIgniter.php(933): App\Controllers\Farmasi->laporanFarmasi()
#6 D:\KP\SIMRSv2\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Farmasi))
#7 D:\KP\SIMRSv2\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\KP\SIMRSv2\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#9 D:\KP\SIMRSv2\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#10 D:\KP\SIMRSv2\public\index.php(56): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#11 D:\KP\SIMRSv2\system\rewrite.php(44): require_once('D:\\KP\\SIMRSv2\\p...')
#12 {main}
CRITICAL - 2025-11-02 07:32:03 --> CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'tanggal_kadaluarsa' in 'where clause'
[Method: GET, Route: farmasi/laporan]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT *
FROM `obat`
WHERE `tanggal_kadaluarsa` <= :tanggal_kadaluarsa:
AND `tanggal_kadaluarsa` >= :tanggal_kadaluarsa.1:
AND `stok` > :stok:
ORDER BY `tanggal_kadaluarsa` ASC', [...], false)
 2 APPPATH\Controllers\Farmasi.php(987): CodeIgniter\Database\BaseBuilder->get()
 3 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Farmasi->laporanFarmasi()
 4 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Farmasi))
 5 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 6 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 7 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 8 FCPATH\index.php(56): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
 9 SYSTEMPATH\rewrite.php(44): require_once('D:\\KP\\SIMRSv2\\public\\index.php')
CRITICAL - 2025-11-02 07:32:03 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'tanggal_kadaluarsa' in 'where clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT *
FROM `obat`
WHERE `tanggal_kadaluarsa` <= \'2026-02-02\'
AND `tanggal_kadaluarsa` >= \'2025-11-02\'
AND `stok` > 0
ORDER BY `tanggal_kadaluarsa` ASC')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT *
FROM `obat`
WHERE `tanggal_kadaluarsa` <= \'2026-02-02\'
AND `tanggal_kadaluarsa` >= \'2025-11-02\'
AND `stok` > 0
ORDER BY `tanggal_kadaluarsa` ASC')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT *
FROM `obat`
WHERE `tanggal_kadaluarsa` <= :tanggal_kadaluarsa:
AND `tanggal_kadaluarsa` >= :tanggal_kadaluarsa.1:
AND `stok` > :stok:
ORDER BY `tanggal_kadaluarsa` ASC', [...], false)
 4 APPPATH\Controllers\Farmasi.php(987): CodeIgniter\Database\BaseBuilder->get()
 5 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Farmasi->laporanFarmasi()
 6 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Farmasi))
 7 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 8 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 9 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
10 FCPATH\index.php(56): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
11 SYSTEMPATH\rewrite.php(44): require_once('D:\\KP\\SIMRSv2\\public\\index.php')
CRITICAL - 2025-11-02 07:32:03 --> [Caused by] mysqli_sql_exception: Unknown column 'tanggal_kadaluarsa' in 'where clause'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT *
FROM `obat`
WHERE `tanggal_kadaluarsa` <= \'2026-02-02\'
AND `tanggal_kadaluarsa` >= \'2025-11-02\'
AND `stok` > 0
ORDER BY `tanggal_kadaluarsa` ASC', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT *
FROM `obat`
WHERE `tanggal_kadaluarsa` <= \'2026-02-02\'
AND `tanggal_kadaluarsa` >= \'2025-11-02\'
AND `stok` > 0
ORDER BY `tanggal_kadaluarsa` ASC')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT *
FROM `obat`
WHERE `tanggal_kadaluarsa` <= \'2026-02-02\'
AND `tanggal_kadaluarsa` >= \'2025-11-02\'
AND `stok` > 0
ORDER BY `tanggal_kadaluarsa` ASC')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT *
FROM `obat`
WHERE `tanggal_kadaluarsa` <= :tanggal_kadaluarsa:
AND `tanggal_kadaluarsa` >= :tanggal_kadaluarsa.1:
AND `stok` > :stok:
ORDER BY `tanggal_kadaluarsa` ASC', [...], false)
 5 APPPATH\Controllers\Farmasi.php(987): CodeIgniter\Database\BaseBuilder->get()
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Farmasi->laporanFarmasi()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Farmasi))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(56): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
12 SYSTEMPATH\rewrite.php(44): require_once('D:\\KP\\SIMRSv2\\public\\index.php')
DEBUG - 2025-11-02 07:33:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-11-02 07:34:00 --> [DEPRECATED] number_format(): Passing null to parameter #1 ($num) of type float is deprecated in APPPATH\Views\farmasi\laporan_farmasi.php on line 289.
 1 APPPATH\Views\farmasi\laporan_farmasi.php(289): number_format(null, 0, ',', '.')
 2 SYSTEMPATH\View\View.php(224): include('D:\\KP\\SIMRSv2\\app\\Views\\farmasi\\laporan_farmasi.php')
 3 SYSTEMPATH\View\View.php(227): CodeIgniter\View\View->CodeIgniter\View\{closure}()
 4 SYSTEMPATH\Common.php(1173): CodeIgniter\View\View->render('farmasi/laporan_farmasi', [], true)
 5 APPPATH\Controllers\Farmasi.php(1015): view('farmasi/laporan_farmasi', [...])
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Farmasi->laporanFarmasi()
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Farmasi))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(56): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
12 SYSTEMPATH\rewrite.php(44): require_once('D:\\KP\\SIMRSv2\\public\\index.php')
DEBUG - 2025-11-02 07:34:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 07:34:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 07:48:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 07:48:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 07:49:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 07:49:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 07:49:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 07:49:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 07:49:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 07:49:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 07:49:24 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 08:08:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 08:21:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 08:21:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 08:21:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 08:21:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-11-02 08:21:26 --> [generateNoAntrian] Generating for poli: 1, prefix: A, date: 2025-11-02
INFO - 2025-11-02 08:21:26 --> [getLastAntrian] Searching for poli: 1, prefix: A, date: 2025-11-02
INFO - 2025-11-02 08:21:26 --> [getLastAntrian] Found: A005
INFO - 2025-11-02 08:21:26 --> [generateNoAntrian] Last antrian found: A005
INFO - 2025-11-02 08:21:26 --> [generateNoAntrian] Generated new no_antrian: A006 (counter: 5 + 1)
INFO - 2025-11-02 08:21:26 --> [daftarUlangPasien] Data antrian: {"no_antrian":"A006","no_rm":"RM2025070016","id_poli":"1","status":"Menunggu Pemeriksaan","created_at":"2025-11-02 15:21:26"}
INFO - 2025-11-02 08:21:26 --> [daftarUlangPasien] Berhasil insert antrian dengan ID: 108
INFO - 2025-11-02 08:21:26 --> [daftarUlangPasien] Data tersimpan di DB: {"id":"108","no_antrian":"A006","no_rm":"RM2025070016","id_poli":"1","status":"Menunggu Pemeriksaan","created_at":"2025-11-02 15:21:26","updated_at":"2025-11-02 08:21:26"}
DEBUG - 2025-11-02 08:21:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 08:22:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 08:22:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-11-02 08:22:23 --> [getAntrianPendaftaran] CURDATE: 2025-11-02
INFO - 2025-11-02 08:22:23 --> [getAntrianPendaftaran] Query: SELECT 
                    a.id,
                    a.no_antrian,
                    a.no_rm,
                    p.nama_lengkap as nama_pasien,
                    pol.nama as poli_tujuan,
                    a.status,
                    a.created_at,
                    DATE(a.created_at) as created_date
                FROM antrian a
                LEFT JOIN pasien p ON BINARY p.no_rekam_medis = BINARY a.no_rm
                LEFT JOIN poliklinik pol ON pol.id = a.id_poli
                WHERE a.status = 'Menunggu Pemeriksaan'
                  AND DATE(a.created_at) = CURDATE()
                ORDER BY a.created_at ASC
INFO - 2025-11-02 08:22:23 --> [getAntrianPendaftaran] Total rows: 1
INFO - 2025-11-02 08:22:23 --> [getAntrianPendaftaran] Data: [{"id":"108","no_antrian":"A006","no_rm":"RM2025070016","nama_pasien":"Dora","poli_tujuan":"Poli Umum","status":"Menunggu Pemeriksaan","created_at":"2025-11-02 15:21:26","created_date":"2025-11-02"}]
DEBUG - 2025-11-02 08:22:23 --> [Perawat::getAntrianPendaftaran] Builder state before execute
DEBUG - 2025-11-02 08:22:23 --> [Perawat::getAntrianPendaftaran] SQL: SELECT 
                    a.id,
                    a.no_antrian,
                    a.no_rm,
                    p.nama_lengkap as nama_pasien,
                    pol.nama as poli_tujuan,
                    a.status,
                    a.created_at,
                    DATE(a.created_at) as created_date
                FROM antrian a
                LEFT JOIN pasien p ON BINARY p.no_rekam_medis = BINARY a.no_rm
                LEFT JOIN poliklinik pol ON pol.id = a.id_poli
                WHERE a.status = 'Menunggu Pemeriksaan'
                  AND DATE(a.created_at) = CURDATE()
                ORDER BY a.created_at ASC
DEBUG - 2025-11-02 08:22:23 --> [Perawat::getAntrianPendaftaran] Data count: 1
DEBUG - 2025-11-02 08:22:23 --> [Perawat::getAntrianPendaftaran] Data: [{"id":"108","no_antrian":"A006","no_rm":"RM2025070016","nama_pasien":"Dora","poli_tujuan":"Poli Umum","status":"Menunggu Pemeriksaan","created_at":"2025-11-02T15:21:26+07:00","created_date":"2025-11-02"}]
DEBUG - 2025-11-02 08:22:23 --> Response: {"data":[{"id":"108","no_antrian":"A006","no_rm":"RM2025070016","nama_pasien":"Dora","poli_tujuan":"Poli Umum","status":"Menunggu Pemeriksaan","created_at":"2025-11-02T15:21:26+07:00","created_date":"2025-11-02"}],"recordsTotal":1,"recordsFiltered":1,"debug":{"sql":"SELECT \n                    a.id,\n                    a.no_antrian,\n                    a.no_rm,\n                    p.nama_lengkap as nama_pasien,\n                    pol.nama as poli_tujuan,\n                    a.status,\n                    a.created_at,\n                    DATE(a.created_at) as created_date\n                FROM antrian a\n                LEFT JOIN pasien p ON BINARY p.no_rekam_medis = BINARY a.no_rm\n                LEFT JOIN poliklinik pol ON pol.id = a.id_poli\n                WHERE a.status = 'Menunggu Pemeriksaan'\n                  AND DATE(a.created_at) = CURDATE()\n                ORDER BY a.created_at ASC","error":null}}
DEBUG - 2025-11-02 08:22:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 08:22:25 --> [Perawat::tandaVitalPasien] Data ke view: Array
(
    [id] => 108
    [no_antrian] => A006
    [no_rm] => RM2025070016
    [id_poli] => 1
    [status] => Menunggu Pemeriksaan
    [created_at] => 2025-11-02 15:21:26
    [updated_at] => 2025-11-02 08:21:26
    [nama_pasien] => Dora
    [poli_tujuan] => Poli Umum
)

DEBUG - 2025-11-02 08:22:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 08:22:41 --> [Perawat::simpanPemeriksaan] Data masuk: {"id_antrian":"108","tekanan_darah":"120\/80","detak_jantung":"60","suhu_tubuh":"36.3","pernafasan":"16","berat_badan":"65","tinggi_badan":"170","keluhan":""}
INFO - 2025-11-02 08:22:41 --> [Perawat::simpanPemeriksaan] Generated no_antrian: UMUM001 for poli UMUM (counter: 1)
DEBUG - 2025-11-02 08:22:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 08:22:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-11-02 08:22:46 --> mysqli_sql_exception: Table 'simrs_hamori.poli' doesn't exist in D:\KP\SIMRSv2\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\KP\SIMRSv2\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT `ap`.*, ...', 0)
#1 D:\KP\SIMRSv2\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `ap`.*, ...')
#2 D:\KP\SIMRSv2\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `ap`.*, ...')
#3 D:\KP\SIMRSv2\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `ap`.*, ...', Array, false)
#4 D:\KP\SIMRSv2\app\Controllers\Perawat.php(372): CodeIgniter\Database\BaseBuilder->get()
#5 D:\KP\SIMRSv2\system\CodeIgniter.php(933): App\Controllers\Perawat->cetakAntrianPoli('UMUM001')
#6 D:\KP\SIMRSv2\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Perawat))
#7 D:\KP\SIMRSv2\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\KP\SIMRSv2\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#9 D:\KP\SIMRSv2\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#10 D:\KP\SIMRSv2\public\index.php(56): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#11 D:\KP\SIMRSv2\system\rewrite.php(44): require_once('D:\\KP\\SIMRSv2\\p...')
#12 {main}
CRITICAL - 2025-11-02 08:22:46 --> CodeIgniter\Database\Exceptions\DatabaseException: Table 'simrs_hamori.poli' doesn't exist
[Method: GET, Route: perawat/cetak-antrian-poli/UMUM001]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `ap`.*, `p`.`nama_lengkap`, `p`.`tanggal_lahir`, `p`.`alamat`, `p`.`no_telp`, `p`.`jenis_kelamin`, `pol`.`nama_poli`, `pol`.`kode_poli`, `a`.`no_rm`
FROM `antrian_poli` `ap`
LEFT JOIN `antrian` `a` ON `a`.`id` = `ap`.`id_antrian_perawat`
LEFT JOIN `pasien` `p` ON `p`.`no_rm` = `a`.`no_rm`
LEFT JOIN `poli` `pol` ON `pol`.`id` = `ap`.`id_poli`
WHERE `ap`.`no_antrian` = :ap.no_antrian:', [...], false)
 2 APPPATH\Controllers\Perawat.php(372): CodeIgniter\Database\BaseBuilder->get()
 3 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Perawat->cetakAntrianPoli('UMUM001')
 4 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Perawat))
 5 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 6 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 7 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 8 FCPATH\index.php(56): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
 9 SYSTEMPATH\rewrite.php(44): require_once('D:\\KP\\SIMRSv2\\public\\index.php')
CRITICAL - 2025-11-02 08:22:46 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: Table 'simrs_hamori.poli' doesn't exist
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `ap`.*, `p`.`nama_lengkap`, `p`.`tanggal_lahir`, `p`.`alamat`, `p`.`no_telp`, `p`.`jenis_kelamin`, `pol`.`nama_poli`, `pol`.`kode_poli`, `a`.`no_rm`
FROM `antrian_poli` `ap`
LEFT JOIN `antrian` `a` ON `a`.`id` = `ap`.`id_antrian_perawat`
LEFT JOIN `pasien` `p` ON `p`.`no_rm` = `a`.`no_rm`
LEFT JOIN `poli` `pol` ON `pol`.`id` = `ap`.`id_poli`
WHERE `ap`.`no_antrian` = \'UMUM001\'')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `ap`.*, `p`.`nama_lengkap`, `p`.`tanggal_lahir`, `p`.`alamat`, `p`.`no_telp`, `p`.`jenis_kelamin`, `pol`.`nama_poli`, `pol`.`kode_poli`, `a`.`no_rm`
FROM `antrian_poli` `ap`
LEFT JOIN `antrian` `a` ON `a`.`id` = `ap`.`id_antrian_perawat`
LEFT JOIN `pasien` `p` ON `p`.`no_rm` = `a`.`no_rm`
LEFT JOIN `poli` `pol` ON `pol`.`id` = `ap`.`id_poli`
WHERE `ap`.`no_antrian` = \'UMUM001\'')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `ap`.*, `p`.`nama_lengkap`, `p`.`tanggal_lahir`, `p`.`alamat`, `p`.`no_telp`, `p`.`jenis_kelamin`, `pol`.`nama_poli`, `pol`.`kode_poli`, `a`.`no_rm`
FROM `antrian_poli` `ap`
LEFT JOIN `antrian` `a` ON `a`.`id` = `ap`.`id_antrian_perawat`
LEFT JOIN `pasien` `p` ON `p`.`no_rm` = `a`.`no_rm`
LEFT JOIN `poli` `pol` ON `pol`.`id` = `ap`.`id_poli`
WHERE `ap`.`no_antrian` = :ap.no_antrian:', [...], false)
 4 APPPATH\Controllers\Perawat.php(372): CodeIgniter\Database\BaseBuilder->get()
 5 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Perawat->cetakAntrianPoli('UMUM001')
 6 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Perawat))
 7 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 8 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 9 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
10 FCPATH\index.php(56): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
11 SYSTEMPATH\rewrite.php(44): require_once('D:\\KP\\SIMRSv2\\public\\index.php')
CRITICAL - 2025-11-02 08:22:46 --> [Caused by] mysqli_sql_exception: Table 'simrs_hamori.poli' doesn't exist
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT `ap`.*, `p`.`nama_lengkap`, `p`.`tanggal_lahir`, `p`.`alamat`, `p`.`no_telp`, `p`.`jenis_kelamin`, `pol`.`nama_poli`, `pol`.`kode_poli`, `a`.`no_rm`
FROM `antrian_poli` `ap`
LEFT JOIN `antrian` `a` ON `a`.`id` = `ap`.`id_antrian_perawat`
LEFT JOIN `pasien` `p` ON `p`.`no_rm` = `a`.`no_rm`
LEFT JOIN `poli` `pol` ON `pol`.`id` = `ap`.`id_poli`
WHERE `ap`.`no_antrian` = \'UMUM001\'', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `ap`.*, `p`.`nama_lengkap`, `p`.`tanggal_lahir`, `p`.`alamat`, `p`.`no_telp`, `p`.`jenis_kelamin`, `pol`.`nama_poli`, `pol`.`kode_poli`, `a`.`no_rm`
FROM `antrian_poli` `ap`
LEFT JOIN `antrian` `a` ON `a`.`id` = `ap`.`id_antrian_perawat`
LEFT JOIN `pasien` `p` ON `p`.`no_rm` = `a`.`no_rm`
LEFT JOIN `poli` `pol` ON `pol`.`id` = `ap`.`id_poli`
WHERE `ap`.`no_antrian` = \'UMUM001\'')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `ap`.*, `p`.`nama_lengkap`, `p`.`tanggal_lahir`, `p`.`alamat`, `p`.`no_telp`, `p`.`jenis_kelamin`, `pol`.`nama_poli`, `pol`.`kode_poli`, `a`.`no_rm`
FROM `antrian_poli` `ap`
LEFT JOIN `antrian` `a` ON `a`.`id` = `ap`.`id_antrian_perawat`
LEFT JOIN `pasien` `p` ON `p`.`no_rm` = `a`.`no_rm`
LEFT JOIN `poli` `pol` ON `pol`.`id` = `ap`.`id_poli`
WHERE `ap`.`no_antrian` = \'UMUM001\'')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `ap`.*, `p`.`nama_lengkap`, `p`.`tanggal_lahir`, `p`.`alamat`, `p`.`no_telp`, `p`.`jenis_kelamin`, `pol`.`nama_poli`, `pol`.`kode_poli`, `a`.`no_rm`
FROM `antrian_poli` `ap`
LEFT JOIN `antrian` `a` ON `a`.`id` = `ap`.`id_antrian_perawat`
LEFT JOIN `pasien` `p` ON `p`.`no_rm` = `a`.`no_rm`
LEFT JOIN `poli` `pol` ON `pol`.`id` = `ap`.`id_poli`
WHERE `ap`.`no_antrian` = :ap.no_antrian:', [...], false)
 5 APPPATH\Controllers\Perawat.php(372): CodeIgniter\Database\BaseBuilder->get()
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Perawat->cetakAntrianPoli('UMUM001')
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Perawat))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(56): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
12 SYSTEMPATH\rewrite.php(44): require_once('D:\\KP\\SIMRSv2\\public\\index.php')
DEBUG - 2025-11-02 08:23:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 08:23:26 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 08:51:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
ERROR - 2025-11-02 08:51:44 --> mysqli_sql_exception: Unknown column 'p.alamat' in 'field list' in D:\KP\SIMRSv2\system\Database\MySQLi\Connection.php:327
Stack trace:
#0 D:\KP\SIMRSv2\system\Database\MySQLi\Connection.php(327): mysqli->query('SELECT `ap`.*, ...', 0)
#1 D:\KP\SIMRSv2\system\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `ap`.*, ...')
#2 D:\KP\SIMRSv2\system\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `ap`.*, ...')
#3 D:\KP\SIMRSv2\system\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `ap`.*, ...', Array, false)
#4 D:\KP\SIMRSv2\app\Controllers\Perawat.php(371): CodeIgniter\Database\BaseBuilder->get()
#5 D:\KP\SIMRSv2\system\CodeIgniter.php(933): App\Controllers\Perawat->cetakAntrianPoli('UMUM001')
#6 D:\KP\SIMRSv2\system\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Perawat))
#7 D:\KP\SIMRSv2\system\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(NULL, Object(Config\Cache), false)
#8 D:\KP\SIMRSv2\system\Boot.php(334): CodeIgniter\CodeIgniter->run()
#9 D:\KP\SIMRSv2\system\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
#10 D:\KP\SIMRSv2\public\index.php(56): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
#11 D:\KP\SIMRSv2\system\rewrite.php(44): require_once('D:\\KP\\SIMRSv2\\p...')
#12 {main}
CRITICAL - 2025-11-02 08:51:44 --> CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'p.alamat' in 'field list'
[Method: GET, Route: perawat/cetak-antrian-poli/UMUM001]
in SYSTEMPATH\Database\BaseConnection.php on line 692.
 1 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `ap`.*, `p`.`nama_lengkap`, `p`.`tanggal_lahir`, `p`.`alamat`, `p`.`no_telp`, `p`.`jenis_kelamin`, `pol`.`nama` as `nama_poli`, `pol`.`kode` as `kode_poli`
FROM `antrian_poli` `ap`
LEFT JOIN `pasien` `p` ON `p`.`no_rekam_medis` = `ap`.`no_rm`
LEFT JOIN `poliklinik` `pol` ON `pol`.`id` = `ap`.`id_poli`
WHERE `ap`.`no_antrian` = :ap.no_antrian:', [...], false)
 2 APPPATH\Controllers\Perawat.php(371): CodeIgniter\Database\BaseBuilder->get()
 3 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Perawat->cetakAntrianPoli('UMUM001')
 4 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Perawat))
 5 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 6 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 7 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 8 FCPATH\index.php(56): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
 9 SYSTEMPATH\rewrite.php(44): require_once('D:\\KP\\SIMRSv2\\public\\index.php')
CRITICAL - 2025-11-02 08:51:44 --> [Caused by] CodeIgniter\Database\Exceptions\DatabaseException: Unknown column 'p.alamat' in 'field list'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 332.
 1 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `ap`.*, `p`.`nama_lengkap`, `p`.`tanggal_lahir`, `p`.`alamat`, `p`.`no_telp`, `p`.`jenis_kelamin`, `pol`.`nama` as `nama_poli`, `pol`.`kode` as `kode_poli`
FROM `antrian_poli` `ap`
LEFT JOIN `pasien` `p` ON `p`.`no_rekam_medis` = `ap`.`no_rm`
LEFT JOIN `poliklinik` `pol` ON `pol`.`id` = `ap`.`id_poli`
WHERE `ap`.`no_antrian` = \'UMUM001\'')
 2 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `ap`.*, `p`.`nama_lengkap`, `p`.`tanggal_lahir`, `p`.`alamat`, `p`.`no_telp`, `p`.`jenis_kelamin`, `pol`.`nama` as `nama_poli`, `pol`.`kode` as `kode_poli`
FROM `antrian_poli` `ap`
LEFT JOIN `pasien` `p` ON `p`.`no_rekam_medis` = `ap`.`no_rm`
LEFT JOIN `poliklinik` `pol` ON `pol`.`id` = `ap`.`id_poli`
WHERE `ap`.`no_antrian` = \'UMUM001\'')
 3 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `ap`.*, `p`.`nama_lengkap`, `p`.`tanggal_lahir`, `p`.`alamat`, `p`.`no_telp`, `p`.`jenis_kelamin`, `pol`.`nama` as `nama_poli`, `pol`.`kode` as `kode_poli`
FROM `antrian_poli` `ap`
LEFT JOIN `pasien` `p` ON `p`.`no_rekam_medis` = `ap`.`no_rm`
LEFT JOIN `poliklinik` `pol` ON `pol`.`id` = `ap`.`id_poli`
WHERE `ap`.`no_antrian` = :ap.no_antrian:', [...], false)
 4 APPPATH\Controllers\Perawat.php(371): CodeIgniter\Database\BaseBuilder->get()
 5 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Perawat->cetakAntrianPoli('UMUM001')
 6 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Perawat))
 7 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 8 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 9 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
10 FCPATH\index.php(56): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
11 SYSTEMPATH\rewrite.php(44): require_once('D:\\KP\\SIMRSv2\\public\\index.php')
CRITICAL - 2025-11-02 08:51:44 --> [Caused by] mysqli_sql_exception: Unknown column 'p.alamat' in 'field list'
in SYSTEMPATH\Database\MySQLi\Connection.php on line 327.
 1 SYSTEMPATH\Database\MySQLi\Connection.php(327): mysqli->query('SELECT `ap`.*, `p`.`nama_lengkap`, `p`.`tanggal_lahir`, `p`.`alamat`, `p`.`no_telp`, `p`.`jenis_kelamin`, `pol`.`nama` as `nama_poli`, `pol`.`kode` as `kode_poli`
FROM `antrian_poli` `ap`
LEFT JOIN `pasien` `p` ON `p`.`no_rekam_medis` = `ap`.`no_rm`
LEFT JOIN `poliklinik` `pol` ON `pol`.`id` = `ap`.`id_poli`
WHERE `ap`.`no_antrian` = \'UMUM001\'', 0)
 2 SYSTEMPATH\Database\BaseConnection.php(738): CodeIgniter\Database\MySQLi\Connection->execute('SELECT `ap`.*, `p`.`nama_lengkap`, `p`.`tanggal_lahir`, `p`.`alamat`, `p`.`no_telp`, `p`.`jenis_kelamin`, `pol`.`nama` as `nama_poli`, `pol`.`kode` as `kode_poli`
FROM `antrian_poli` `ap`
LEFT JOIN `pasien` `p` ON `p`.`no_rekam_medis` = `ap`.`no_rm`
LEFT JOIN `poliklinik` `pol` ON `pol`.`id` = `ap`.`id_poli`
WHERE `ap`.`no_antrian` = \'UMUM001\'')
 3 SYSTEMPATH\Database\BaseConnection.php(652): CodeIgniter\Database\BaseConnection->simpleQuery('SELECT `ap`.*, `p`.`nama_lengkap`, `p`.`tanggal_lahir`, `p`.`alamat`, `p`.`no_telp`, `p`.`jenis_kelamin`, `pol`.`nama` as `nama_poli`, `pol`.`kode` as `kode_poli`
FROM `antrian_poli` `ap`
LEFT JOIN `pasien` `p` ON `p`.`no_rekam_medis` = `ap`.`no_rm`
LEFT JOIN `poliklinik` `pol` ON `pol`.`id` = `ap`.`id_poli`
WHERE `ap`.`no_antrian` = \'UMUM001\'')
 4 SYSTEMPATH\Database\BaseBuilder.php(1649): CodeIgniter\Database\BaseConnection->query('SELECT `ap`.*, `p`.`nama_lengkap`, `p`.`tanggal_lahir`, `p`.`alamat`, `p`.`no_telp`, `p`.`jenis_kelamin`, `pol`.`nama` as `nama_poli`, `pol`.`kode` as `kode_poli`
FROM `antrian_poli` `ap`
LEFT JOIN `pasien` `p` ON `p`.`no_rekam_medis` = `ap`.`no_rm`
LEFT JOIN `poliklinik` `pol` ON `pol`.`id` = `ap`.`id_poli`
WHERE `ap`.`no_antrian` = :ap.no_antrian:', [...], false)
 5 APPPATH\Controllers\Perawat.php(371): CodeIgniter\Database\BaseBuilder->get()
 6 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Perawat->cetakAntrianPoli('UMUM001')
 7 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Perawat))
 8 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 9 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
10 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
11 FCPATH\index.php(56): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
12 SYSTEMPATH\rewrite.php(44): require_once('D:\\KP\\SIMRSv2\\public\\index.php')
DEBUG - 2025-11-02 08:53:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 08:54:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 08:54:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 08:54:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 08:54:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-11-02 08:54:44 --> [generateNoAntrian] Generating for poli: 1, prefix: A, date: 2025-11-02
INFO - 2025-11-02 08:54:44 --> [getLastAntrian] Searching for poli: 1, prefix: A, date: 2025-11-02
INFO - 2025-11-02 08:54:44 --> [getLastAntrian] Found: A006
INFO - 2025-11-02 08:54:44 --> [generateNoAntrian] Last antrian found: A006
INFO - 2025-11-02 08:54:44 --> [generateNoAntrian] Generated new no_antrian: A007 (counter: 6 + 1)
INFO - 2025-11-02 08:54:44 --> [daftarUlangPasien] Data antrian: {"no_antrian":"A007","no_rm":"RM2025070027","id_poli":"1","status":"Menunggu Pemeriksaan","created_at":"2025-11-02 15:54:44"}
INFO - 2025-11-02 08:54:44 --> [daftarUlangPasien] Berhasil insert antrian dengan ID: 109
INFO - 2025-11-02 08:54:44 --> [daftarUlangPasien] Data tersimpan di DB: {"id":"109","no_antrian":"A007","no_rm":"RM2025070027","id_poli":"1","status":"Menunggu Pemeriksaan","created_at":"2025-11-02 15:54:44","updated_at":"2025-11-02 08:54:44"}
DEBUG - 2025-11-02 08:54:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:03:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:03:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:03:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:03:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:04:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:04:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:04:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:04:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:04:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-11-02 11:04:29 --> [pasienHariIni] Today: 2025-11-02
INFO - 2025-11-02 11:04:29 --> [pasienHariIni] DB NOW: 2025-11-02 18:04:29, CURDATE: 2025-11-02, TZ: +07:00
INFO - 2025-11-02 11:04:29 --> [pasienHariIni] Query: SELECT 
                    a.id,
                    a.no_rm,
                    a.no_antrian,
                    a.id_poli,
                    a.status,
                    a.created_at,
                    p.title, 
                    p.nama_lengkap, 
                    p.jenis_kelamin, 
                    p.tanggal_lahir, 
                    p.no_rekam_medis
                FROM antrian a
                LEFT JOIN pasien p ON p.no_rekam_medis = a.no_rm
                INNER JOIN (
                    SELECT no_rm, MAX(id) as max_id
                    FROM antrian
                    WHERE DATE(created_at) = CURDATE()
                    GROUP BY no_rm
                ) latest_antrian ON latest_antrian.max_id = a.id
                ORDER BY a.created_at DESC
INFO - 2025-11-02 11:04:29 --> [pasienHariIni] Total rows: 5
INFO - 2025-11-02 11:04:29 --> [pasienHariIni] Pasien: RM2025070027 - Status: Menunggu Pemeriksaan
INFO - 2025-11-02 11:04:29 --> [pasienHariIni] Pasien: RM2025070016 - Status: Menunggu Dokter
INFO - 2025-11-02 11:04:29 --> [pasienHariIni] Pasien: RM2025070008 - Status: Selesai
INFO - 2025-11-02 11:04:29 --> [pasienHariIni] Pasien: 2025070005 - Status: Selesai
INFO - 2025-11-02 11:04:29 --> [pasienHariIni] Pasien: RM000003 - Status: Selesai
DEBUG - 2025-11-02 11:04:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:04:40 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:05:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:05:04 --> SOAP SUBMIT: method=POST POST={"csrf_test_name":"8faeb791eb120f05bac90a8f118db6ab","no_rm":"RM2025070016","id_antrian":"51","keluhan_utama":"test","riwayat_penyakit":"test","riwayat_alergi":"test","tekanan_darah":"test","denyut_nadi":"test","suhu_tubuh":"test","respirasi":"test","pemeriksaan_fisik":"test","diagnosis":"test","prognosis":"test","obat_manual":[""],"obat_db":[""],"jumlah_obat":["1"],"instruksi_obat":[""],"edukasi":"test"}
INFO - 2025-11-02 11:05:04 --> [Dokter::simpanPemeriksaanSoap] id_antrian: 51
INFO - 2025-11-02 11:05:04 --> [Dokter::simpanPemeriksaanSoap] Status selanjutnya: Menunggu Farmasi
INFO - 2025-11-02 11:05:04 --> [Dokter::simpanPemeriksaanSoap] Updated antrian_poli id=51
INFO - 2025-11-02 11:05:04 --> [Dokter::simpanPemeriksaanSoap] Antrian poli data: {"id":"51","no_antrian":"UMUM001","no_rm":"RM2025070016","id_poli":"1","id_antrian_perawat":"108","status":"Menunggu Farmasi","created_at":"2025-11-02 08:22:41","updated_at":null}
INFO - 2025-11-02 11:05:04 --> [Dokter::simpanPemeriksaanSoap] Updated antrian id=108 to "Menunggu Farmasi", rows affected: 1
DEBUG - 2025-11-02 11:05:04 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:05:06 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:05:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:05:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:05:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:05:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-11-02 11:05:33 --> [pasienHariIni] Today: 2025-11-02
INFO - 2025-11-02 11:05:33 --> [pasienHariIni] DB NOW: 2025-11-02 18:05:33, CURDATE: 2025-11-02, TZ: +07:00
INFO - 2025-11-02 11:05:33 --> [pasienHariIni] Query: SELECT 
                    a.id,
                    a.no_rm,
                    a.no_antrian,
                    a.id_poli,
                    a.status,
                    a.created_at,
                    p.title, 
                    p.nama_lengkap, 
                    p.jenis_kelamin, 
                    p.tanggal_lahir, 
                    p.no_rekam_medis
                FROM antrian a
                LEFT JOIN pasien p ON p.no_rekam_medis = a.no_rm
                INNER JOIN (
                    SELECT no_rm, MAX(id) as max_id
                    FROM antrian
                    WHERE DATE(created_at) = CURDATE()
                    GROUP BY no_rm
                ) latest_antrian ON latest_antrian.max_id = a.id
                ORDER BY a.created_at DESC
INFO - 2025-11-02 11:05:33 --> [pasienHariIni] Total rows: 5
INFO - 2025-11-02 11:05:33 --> [pasienHariIni] Pasien: RM2025070027 - Status: Menunggu Pemeriksaan
INFO - 2025-11-02 11:05:33 --> [pasienHariIni] Pasien: RM2025070016 - Status: Menunggu Farmasi
INFO - 2025-11-02 11:05:33 --> [pasienHariIni] Pasien: RM2025070008 - Status: Selesai
INFO - 2025-11-02 11:05:33 --> [pasienHariIni] Pasien: 2025070005 - Status: Selesai
INFO - 2025-11-02 11:05:33 --> [pasienHariIni] Pasien: RM000003 - Status: Selesai
DEBUG - 2025-11-02 11:10:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-11-02 11:10:30 --> [pasienHariIni] Today: 2025-11-02
INFO - 2025-11-02 11:10:30 --> [pasienHariIni] DB NOW: 2025-11-02 18:10:30, CURDATE: 2025-11-02, TZ: +07:00
INFO - 2025-11-02 11:10:30 --> [pasienHariIni] Query: SELECT 
                    a.id,
                    a.no_rm,
                    a.no_antrian,
                    a.id_poli,
                    a.status,
                    a.created_at,
                    p.title, 
                    p.nama_lengkap, 
                    p.jenis_kelamin, 
                    p.tanggal_lahir, 
                    p.no_rekam_medis
                FROM antrian a
                LEFT JOIN pasien p ON p.no_rekam_medis = a.no_rm
                INNER JOIN (
                    SELECT no_rm, MAX(id) as max_id
                    FROM antrian
                    WHERE DATE(created_at) = CURDATE()
                    GROUP BY no_rm
                ) latest_antrian ON latest_antrian.max_id = a.id
                ORDER BY a.created_at DESC
INFO - 2025-11-02 11:10:30 --> [pasienHariIni] Total rows: 5
INFO - 2025-11-02 11:10:30 --> [pasienHariIni] Pasien: RM2025070027 - Status: Menunggu Pemeriksaan
INFO - 2025-11-02 11:10:30 --> [pasienHariIni] Pasien: RM2025070016 - Status: Menunggu Farmasi
INFO - 2025-11-02 11:10:30 --> [pasienHariIni] Pasien: RM2025070008 - Status: Selesai
INFO - 2025-11-02 11:10:30 --> [pasienHariIni] Pasien: 2025070005 - Status: Selesai
INFO - 2025-11-02 11:10:30 --> [pasienHariIni] Pasien: RM000003 - Status: Selesai
DEBUG - 2025-11-02 11:10:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:10:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-11-02 11:10:41 --> [getAntrianPendaftaran] CURDATE: 2025-11-02
INFO - 2025-11-02 11:10:41 --> [getAntrianPendaftaran] Query: SELECT 
                    a.id,
                    a.no_antrian,
                    a.no_rm,
                    p.nama_lengkap as nama_pasien,
                    pol.nama as poli_tujuan,
                    a.status,
                    a.created_at,
                    DATE(a.created_at) as created_date
                FROM antrian a
                LEFT JOIN pasien p ON BINARY p.no_rekam_medis = BINARY a.no_rm
                LEFT JOIN poliklinik pol ON pol.id = a.id_poli
                WHERE a.status = 'Menunggu Pemeriksaan'
                  AND DATE(a.created_at) = CURDATE()
                ORDER BY a.created_at ASC
INFO - 2025-11-02 11:10:41 --> [getAntrianPendaftaran] Total rows: 1
INFO - 2025-11-02 11:10:41 --> [getAntrianPendaftaran] Data: [{"id":"109","no_antrian":"A007","no_rm":"RM2025070027","nama_pasien":"hengko","poli_tujuan":"Poli Umum","status":"Menunggu Pemeriksaan","created_at":"2025-11-02 15:54:44","created_date":"2025-11-02"}]
DEBUG - 2025-11-02 11:10:41 --> [Perawat::getAntrianPendaftaran] Builder state before execute
DEBUG - 2025-11-02 11:10:41 --> [Perawat::getAntrianPendaftaran] SQL: SELECT 
                    a.id,
                    a.no_antrian,
                    a.no_rm,
                    p.nama_lengkap as nama_pasien,
                    pol.nama as poli_tujuan,
                    a.status,
                    a.created_at,
                    DATE(a.created_at) as created_date
                FROM antrian a
                LEFT JOIN pasien p ON BINARY p.no_rekam_medis = BINARY a.no_rm
                LEFT JOIN poliklinik pol ON pol.id = a.id_poli
                WHERE a.status = 'Menunggu Pemeriksaan'
                  AND DATE(a.created_at) = CURDATE()
                ORDER BY a.created_at ASC
DEBUG - 2025-11-02 11:10:41 --> [Perawat::getAntrianPendaftaran] Data count: 1
DEBUG - 2025-11-02 11:10:41 --> [Perawat::getAntrianPendaftaran] Data: [{"id":"109","no_antrian":"A007","no_rm":"RM2025070027","nama_pasien":"hengko","poli_tujuan":"Poli Umum","status":"Menunggu Pemeriksaan","created_at":"2025-11-02T15:54:44+07:00","created_date":"2025-11-02"}]
DEBUG - 2025-11-02 11:10:41 --> Response: {"data":[{"id":"109","no_antrian":"A007","no_rm":"RM2025070027","nama_pasien":"hengko","poli_tujuan":"Poli Umum","status":"Menunggu Pemeriksaan","created_at":"2025-11-02T15:54:44+07:00","created_date":"2025-11-02"}],"recordsTotal":1,"recordsFiltered":1,"debug":{"sql":"SELECT \n                    a.id,\n                    a.no_antrian,\n                    a.no_rm,\n                    p.nama_lengkap as nama_pasien,\n                    pol.nama as poli_tujuan,\n                    a.status,\n                    a.created_at,\n                    DATE(a.created_at) as created_date\n                FROM antrian a\n                LEFT JOIN pasien p ON BINARY p.no_rekam_medis = BINARY a.no_rm\n                LEFT JOIN poliklinik pol ON pol.id = a.id_poli\n                WHERE a.status = 'Menunggu Pemeriksaan'\n                  AND DATE(a.created_at) = CURDATE()\n                ORDER BY a.created_at ASC","error":null}}
DEBUG - 2025-11-02 11:10:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:10:42 --> [Perawat::tandaVitalPasien] Data ke view: Array
(
    [id] => 109
    [no_antrian] => A007
    [no_rm] => RM2025070027
    [id_poli] => 1
    [status] => Menunggu Pemeriksaan
    [created_at] => 2025-11-02 15:54:44
    [updated_at] => 2025-11-02 08:54:44
    [nama_pasien] => hengko
    [poli_tujuan] => Poli Umum
)

DEBUG - 2025-11-02 11:10:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:10:59 --> [Perawat::simpanPemeriksaan] Data masuk: {"id_antrian":"109","tekanan_darah":"120\/80","detak_jantung":"60","suhu_tubuh":"36","pernafasan":"16","berat_badan":"65","tinggi_badan":"170","keluhan":""}
INFO - 2025-11-02 11:10:59 --> [Perawat::simpanPemeriksaan] Generated no_antrian: UMUM002 for poli UMUM (counter: 2)
DEBUG - 2025-11-02 11:10:59 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:11:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:11:13 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:11:14 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-11-02 11:11:15 --> [getAntrianPendaftaran] CURDATE: 2025-11-02
INFO - 2025-11-02 11:11:15 --> [getAntrianPendaftaran] Query: SELECT 
                    a.id,
                    a.no_antrian,
                    a.no_rm,
                    p.nama_lengkap as nama_pasien,
                    pol.nama as poli_tujuan,
                    a.status,
                    a.created_at,
                    DATE(a.created_at) as created_date
                FROM antrian a
                LEFT JOIN pasien p ON BINARY p.no_rekam_medis = BINARY a.no_rm
                LEFT JOIN poliklinik pol ON pol.id = a.id_poli
                WHERE a.status = 'Menunggu Pemeriksaan'
                  AND DATE(a.created_at) = CURDATE()
                ORDER BY a.created_at ASC
INFO - 2025-11-02 11:11:15 --> [getAntrianPendaftaran] Total rows: 0
INFO - 2025-11-02 11:11:15 --> [getAntrianPendaftaran] Data: []
DEBUG - 2025-11-02 11:11:15 --> [Perawat::getAntrianPendaftaran] Builder state before execute
DEBUG - 2025-11-02 11:11:15 --> [Perawat::getAntrianPendaftaran] SQL: SELECT 
                    a.id,
                    a.no_antrian,
                    a.no_rm,
                    p.nama_lengkap as nama_pasien,
                    pol.nama as poli_tujuan,
                    a.status,
                    a.created_at,
                    DATE(a.created_at) as created_date
                FROM antrian a
                LEFT JOIN pasien p ON BINARY p.no_rekam_medis = BINARY a.no_rm
                LEFT JOIN poliklinik pol ON pol.id = a.id_poli
                WHERE a.status = 'Menunggu Pemeriksaan'
                  AND DATE(a.created_at) = CURDATE()
                ORDER BY a.created_at ASC
DEBUG - 2025-11-02 11:11:15 --> [Perawat::getAntrianPendaftaran] Data count: 0
DEBUG - 2025-11-02 11:11:15 --> [Perawat::getAntrianPendaftaran] Data: []
DEBUG - 2025-11-02 11:11:15 --> Response: {"data":[],"recordsTotal":0,"recordsFiltered":0,"debug":{"sql":"SELECT \n                    a.id,\n                    a.no_antrian,\n                    a.no_rm,\n                    p.nama_lengkap as nama_pasien,\n                    pol.nama as poli_tujuan,\n                    a.status,\n                    a.created_at,\n                    DATE(a.created_at) as created_date\n                FROM antrian a\n                LEFT JOIN pasien p ON BINARY p.no_rekam_medis = BINARY a.no_rm\n                LEFT JOIN poliklinik pol ON pol.id = a.id_poli\n                WHERE a.status = 'Menunggu Pemeriksaan'\n                  AND DATE(a.created_at) = CURDATE()\n                ORDER BY a.created_at ASC","error":null}}
DEBUG - 2025-11-02 11:11:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:11:19 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:11:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:11:34 --> SOAP SUBMIT: method=POST POST={"csrf_test_name":"8faeb791eb120f05bac90a8f118db6ab","no_rm":"RM2025070027","id_antrian":"52","keluhan_utama":"test","riwayat_penyakit":"test","riwayat_alergi":"test","tekanan_darah":"v","denyut_nadi":"test","suhu_tubuh":"test","respirasi":"test","pemeriksaan_fisik":"test","diagnosis":"test","prognosis":"test","obat_manual":[""],"obat_db":[""],"jumlah_obat":["1"],"instruksi_obat":[""],"edukasi":"test"}
INFO - 2025-11-02 11:11:34 --> [Dokter::simpanPemeriksaanSoap] id_antrian: 52
INFO - 2025-11-02 11:11:34 --> [Dokter::simpanPemeriksaanSoap] Jumlah resep: 0
INFO - 2025-11-02 11:11:34 --> [Dokter::simpanPemeriksaanSoap] Status selanjutnya: Menunggu Kasir
INFO - 2025-11-02 11:11:34 --> [Dokter::simpanPemeriksaanSoap] Updated antrian_poli id=52
INFO - 2025-11-02 11:11:34 --> [Dokter::simpanPemeriksaanSoap] Antrian poli data: {"id":"52","no_antrian":"UMUM002","no_rm":"RM2025070027","id_poli":"1","id_antrian_perawat":"109","status":"Menunggu Kasir","created_at":"2025-11-02 11:10:59","updated_at":null}
INFO - 2025-11-02 11:11:34 --> [Dokter::simpanPemeriksaanSoap] Updated antrian id=109 to "Menunggu Kasir", rows affected: 1
DEBUG - 2025-11-02 11:11:35 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:11:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:11:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-11-02 11:11:55 --> [pasienHariIni] Today: 2025-11-02
INFO - 2025-11-02 11:11:55 --> [pasienHariIni] DB NOW: 2025-11-02 18:11:55, CURDATE: 2025-11-02, TZ: +07:00
INFO - 2025-11-02 11:11:55 --> [pasienHariIni] Query: SELECT 
                    a.id,
                    a.no_rm,
                    a.no_antrian,
                    a.id_poli,
                    a.status,
                    a.created_at,
                    p.title, 
                    p.nama_lengkap, 
                    p.jenis_kelamin, 
                    p.tanggal_lahir, 
                    p.no_rekam_medis
                FROM antrian a
                LEFT JOIN pasien p ON p.no_rekam_medis = a.no_rm
                INNER JOIN (
                    SELECT no_rm, MAX(id) as max_id
                    FROM antrian
                    WHERE DATE(created_at) = CURDATE()
                    GROUP BY no_rm
                ) latest_antrian ON latest_antrian.max_id = a.id
                ORDER BY a.created_at DESC
INFO - 2025-11-02 11:11:55 --> [pasienHariIni] Total rows: 5
INFO - 2025-11-02 11:11:55 --> [pasienHariIni] Pasien: RM2025070027 - Status: Menunggu Kasir
INFO - 2025-11-02 11:11:55 --> [pasienHariIni] Pasien: RM2025070016 - Status: Menunggu Farmasi
INFO - 2025-11-02 11:11:55 --> [pasienHariIni] Pasien: RM2025070008 - Status: Selesai
INFO - 2025-11-02 11:11:55 --> [pasienHariIni] Pasien: 2025070005 - Status: Selesai
INFO - 2025-11-02 11:11:55 --> [pasienHariIni] Pasien: RM000003 - Status: Selesai
DEBUG - 2025-11-02 11:12:00 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:12:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:12:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:12:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:12:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:16:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:16:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:16:23 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:16:28 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-11-02 11:16:28 --> detailTagihan called with idPasien: RM2025070027, tanggal: 2025-11-02
INFO - 2025-11-02 11:16:28 --> Models initialized successfully
INFO - 2025-11-02 11:16:28 --> Tagihan query executed. Result: null
ERROR - 2025-11-02 11:16:28 --> Tagihan not found for idPasien: RM2025070027, tanggal: 2025-11-02
DEBUG - 2025-11-02 11:16:32 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-11-02 11:16:32 --> detailTagihan called with idPasien: RM2025070027, tanggal: 2025-11-02
INFO - 2025-11-02 11:16:32 --> Models initialized successfully
INFO - 2025-11-02 11:16:32 --> Tagihan query executed. Result: null
ERROR - 2025-11-02 11:16:32 --> Tagihan not found for idPasien: RM2025070027, tanggal: 2025-11-02
DEBUG - 2025-11-02 11:16:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-11-02 11:16:34 --> detailTagihan called with idPasien: RM2025070027, tanggal: 2025-11-02
INFO - 2025-11-02 11:16:34 --> Models initialized successfully
INFO - 2025-11-02 11:16:34 --> Tagihan query executed. Result: null
ERROR - 2025-11-02 11:16:34 --> Tagihan not found for idPasien: RM2025070027, tanggal: 2025-11-02
DEBUG - 2025-11-02 11:16:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:17:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:17:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:17:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:17:09 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-11-02 11:17:09 --> [pasienHariIni] Today: 2025-11-02
INFO - 2025-11-02 11:17:09 --> [pasienHariIni] DB NOW: 2025-11-02 18:17:09, CURDATE: 2025-11-02, TZ: +07:00
INFO - 2025-11-02 11:17:09 --> [pasienHariIni] Query: SELECT 
                    a.id,
                    a.no_rm,
                    a.no_antrian,
                    a.id_poli,
                    a.status,
                    a.created_at,
                    p.title, 
                    p.nama_lengkap, 
                    p.jenis_kelamin, 
                    p.tanggal_lahir, 
                    p.no_rekam_medis
                FROM antrian a
                LEFT JOIN pasien p ON p.no_rekam_medis = a.no_rm
                INNER JOIN (
                    SELECT no_rm, MAX(id) as max_id
                    FROM antrian
                    WHERE DATE(created_at) = CURDATE()
                    GROUP BY no_rm
                ) latest_antrian ON latest_antrian.max_id = a.id
                ORDER BY a.created_at DESC
INFO - 2025-11-02 11:17:09 --> [pasienHariIni] Total rows: 5
INFO - 2025-11-02 11:17:09 --> [pasienHariIni] Pasien: RM2025070027 - Status: Menunggu Kasir
INFO - 2025-11-02 11:17:09 --> [pasienHariIni] Pasien: RM2025070016 - Status: Menunggu Farmasi
INFO - 2025-11-02 11:17:09 --> [pasienHariIni] Pasien: RM2025070008 - Status: Selesai
INFO - 2025-11-02 11:17:09 --> [pasienHariIni] Pasien: 2025070005 - Status: Selesai
INFO - 2025-11-02 11:17:09 --> [pasienHariIni] Pasien: RM000003 - Status: Selesai
DEBUG - 2025-11-02 11:17:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:17:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:17:39 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:17:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:17:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-11-02 11:17:44 --> [generateNoAntrian] Generating for poli: 1, prefix: A, date: 2025-11-02
INFO - 2025-11-02 11:17:44 --> [getLastAntrian] Searching for poli: 1, prefix: A, date: 2025-11-02
INFO - 2025-11-02 11:17:44 --> [getLastAntrian] Found: A007
INFO - 2025-11-02 11:17:44 --> [generateNoAntrian] Last antrian found: A007
INFO - 2025-11-02 11:17:44 --> [generateNoAntrian] Generated new no_antrian: A008 (counter: 7 + 1)
INFO - 2025-11-02 11:17:44 --> [daftarUlangPasien] Data antrian: {"no_antrian":"A008","no_rm":"RM2025070024","id_poli":"1","status":"Menunggu Pemeriksaan","created_at":"2025-11-02 18:17:44"}
INFO - 2025-11-02 11:17:44 --> [daftarUlangPasien] Berhasil insert antrian dengan ID: 110
INFO - 2025-11-02 11:17:44 --> [daftarUlangPasien] Data tersimpan di DB: {"id":"110","no_antrian":"A008","no_rm":"RM2025070024","id_poli":"1","status":"Menunggu Pemeriksaan","created_at":"2025-11-02 18:17:44","updated_at":"2025-11-02 11:17:44"}
DEBUG - 2025-11-02 11:17:47 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:18:10 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:18:34 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:18:36 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-11-02 11:18:36 --> [getAntrianPendaftaran] CURDATE: 2025-11-02
INFO - 2025-11-02 11:18:36 --> [getAntrianPendaftaran] Query: SELECT 
                    a.id,
                    a.no_antrian,
                    a.no_rm,
                    p.nama_lengkap as nama_pasien,
                    pol.nama as poli_tujuan,
                    a.status,
                    a.created_at,
                    DATE(a.created_at) as created_date
                FROM antrian a
                LEFT JOIN pasien p ON BINARY p.no_rekam_medis = BINARY a.no_rm
                LEFT JOIN poliklinik pol ON pol.id = a.id_poli
                WHERE a.status = 'Menunggu Pemeriksaan'
                  AND DATE(a.created_at) = CURDATE()
                ORDER BY a.created_at ASC
INFO - 2025-11-02 11:18:36 --> [getAntrianPendaftaran] Total rows: 1
INFO - 2025-11-02 11:18:36 --> [getAntrianPendaftaran] Data: [{"id":"110","no_antrian":"A008","no_rm":"RM2025070024","nama_pasien":"Sule Prikitiw","poli_tujuan":"Poli Umum","status":"Menunggu Pemeriksaan","created_at":"2025-11-02 18:17:44","created_date":"2025-11-02"}]
DEBUG - 2025-11-02 11:18:36 --> [Perawat::getAntrianPendaftaran] Builder state before execute
DEBUG - 2025-11-02 11:18:36 --> [Perawat::getAntrianPendaftaran] SQL: SELECT 
                    a.id,
                    a.no_antrian,
                    a.no_rm,
                    p.nama_lengkap as nama_pasien,
                    pol.nama as poli_tujuan,
                    a.status,
                    a.created_at,
                    DATE(a.created_at) as created_date
                FROM antrian a
                LEFT JOIN pasien p ON BINARY p.no_rekam_medis = BINARY a.no_rm
                LEFT JOIN poliklinik pol ON pol.id = a.id_poli
                WHERE a.status = 'Menunggu Pemeriksaan'
                  AND DATE(a.created_at) = CURDATE()
                ORDER BY a.created_at ASC
DEBUG - 2025-11-02 11:18:36 --> [Perawat::getAntrianPendaftaran] Data count: 1
DEBUG - 2025-11-02 11:18:36 --> [Perawat::getAntrianPendaftaran] Data: [{"id":"110","no_antrian":"A008","no_rm":"RM2025070024","nama_pasien":"Sule Prikitiw","poli_tujuan":"Poli Umum","status":"Menunggu Pemeriksaan","created_at":"2025-11-02T18:17:44+07:00","created_date":"2025-11-02"}]
DEBUG - 2025-11-02 11:18:36 --> Response: {"data":[{"id":"110","no_antrian":"A008","no_rm":"RM2025070024","nama_pasien":"Sule Prikitiw","poli_tujuan":"Poli Umum","status":"Menunggu Pemeriksaan","created_at":"2025-11-02T18:17:44+07:00","created_date":"2025-11-02"}],"recordsTotal":1,"recordsFiltered":1,"debug":{"sql":"SELECT \n                    a.id,\n                    a.no_antrian,\n                    a.no_rm,\n                    p.nama_lengkap as nama_pasien,\n                    pol.nama as poli_tujuan,\n                    a.status,\n                    a.created_at,\n                    DATE(a.created_at) as created_date\n                FROM antrian a\n                LEFT JOIN pasien p ON BINARY p.no_rekam_medis = BINARY a.no_rm\n                LEFT JOIN poliklinik pol ON pol.id = a.id_poli\n                WHERE a.status = 'Menunggu Pemeriksaan'\n                  AND DATE(a.created_at) = CURDATE()\n                ORDER BY a.created_at ASC","error":null}}
DEBUG - 2025-11-02 11:18:38 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:18:39 --> [Perawat::tandaVitalPasien] Data ke view: Array
(
    [id] => 110
    [no_antrian] => A008
    [no_rm] => RM2025070024
    [id_poli] => 1
    [status] => Menunggu Pemeriksaan
    [created_at] => 2025-11-02 18:17:44
    [updated_at] => 2025-11-02 11:17:44
    [nama_pasien] => Sule Prikitiw
    [poli_tujuan] => Poli Umum
)

DEBUG - 2025-11-02 11:18:51 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:18:51 --> [Perawat::simpanPemeriksaan] Data masuk: {"id_antrian":"110","tekanan_darah":"110\/80","detak_jantung":"72","suhu_tubuh":"36","pernafasan":"16","berat_badan":"65","tinggi_badan":"170","keluhan":""}
INFO - 2025-11-02 11:18:52 --> [Perawat::simpanPemeriksaan] Generated no_antrian: UMUM003 for poli UMUM (counter: 3)
DEBUG - 2025-11-02 11:18:52 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:18:56 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:19:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:19:17 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:19:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:19:43 --> SOAP SUBMIT: method=POST POST={"csrf_test_name":"8faeb791eb120f05bac90a8f118db6ab","no_rm":"RM2025070024","id_antrian":"53","keluhan_utama":"test","riwayat_penyakit":"test","riwayat_alergi":"test","tekanan_darah":"test","denyut_nadi":"test","suhu_tubuh":"test","respirasi":"test","pemeriksaan_fisik":"test","diagnosis":"test","prognosis":"test","obat_manual":[""],"obat_db":["12"],"jumlah_obat":["4"],"instruksi_obat":["3x1\/hari"],"edukasi":"test"}
INFO - 2025-11-02 11:19:43 --> [Dokter::simpanPemeriksaanSoap] id_antrian: 53
INFO - 2025-11-02 11:19:43 --> [Dokter::simpanPemeriksaanSoap] Jumlah resep: 1
INFO - 2025-11-02 11:19:43 --> [Dokter::simpanPemeriksaanSoap] Status selanjutnya: Menunggu Farmasi
INFO - 2025-11-02 11:19:43 --> [Dokter::simpanPemeriksaanSoap] Updated antrian_poli id=53
INFO - 2025-11-02 11:19:43 --> [Dokter::simpanPemeriksaanSoap] Antrian poli data: {"id":"53","no_antrian":"UMUM003","no_rm":"RM2025070024","id_poli":"1","id_antrian_perawat":"110","status":"Menunggu Farmasi","created_at":"2025-11-02 11:18:52","updated_at":null}
INFO - 2025-11-02 11:19:43 --> [Dokter::simpanPemeriksaanSoap] Updated antrian id=110 to "Menunggu Farmasi", rows affected: 1
DEBUG - 2025-11-02 11:19:43 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:19:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:19:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:19:58 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:20:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-11-02 11:20:02 --> Completing medicine request ID: 49 for patient: RM2025070024
INFO - 2025-11-02 11:20:02 --> Updated stock for medicine ID: 12 from 400 to 396
INFO - 2025-11-02 11:20:02 --> Remaining pending medicine requests for RM2025070024: 0
INFO - 2025-11-02 11:20:02 --> Created billing for patient RM2025070024 with total: 159000
INFO - 2025-11-02 11:20:02 --> Updated antrian id=110 status to Menunggu Kasir for no_rm: RM2025070024, rows affected: 1
DEBUG - 2025-11-02 11:20:03 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:20:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:20:08 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:20:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:20:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-11-02 11:20:33 --> detailTagihan called with idPasien: RM2025070024, tanggal: 2025-11-02
INFO - 2025-11-02 11:20:33 --> Models initialized successfully
INFO - 2025-11-02 11:20:33 --> Tagihan query executed. Result: {"id_tagihan":"16","no_rm":"RM2025070024","no_resep":"49","total_biaya":"159000.00","detail_tagihan":"[{\"nama_obat\":\"Vitamin C 500mg\",\"jumlah\":\"4\",\"satuan\":\"Tablet\",\"harga_satuan\":\"6000.00\",\"subtotal\":24000},{\"nama_item\":\"Biaya Administrasi\",\"harga\":35000},{\"nama_item\":\"Biaya Dokter\",\"harga\":100000}]","status":"pending","tanggal_tagihan":"2025-11-02 11:20:02","tanggal_bayar":null,"metode_pembayaran":null,"jumlah_bayar":"0.00","kembalian":"0.00","kasir_id":null,"keterangan":null,"created_at":"2025-11-02 11:20:02","updated_at":"2025-11-02 11:20:02","nama_pasien":"Sule Prikitiw","tanggal_lahir":"1980-01-12"}
INFO - 2025-11-02 11:20:33 --> Tagihan found, parsing detail_tagihan
INFO - 2025-11-02 11:20:33 --> Detail tagihan parsed: [{"nama_obat":"Vitamin C 500mg","jumlah":"4","satuan":"Tablet","harga_satuan":"6000.00","subtotal":24000},{"nama_item":"Biaya Administrasi","harga":35000},{"nama_item":"Biaya Dokter","harga":100000}]
INFO - 2025-11-02 11:20:33 --> Processed obat item: Vitamin C 500mg with price: 6000.00
INFO - 2025-11-02 11:20:33 --> Resep list processed. Total obat: 24000
INFO - 2025-11-02 11:20:33 --> Additional models initialized
INFO - 2025-11-02 11:20:33 --> Pasien info query executed: {"id":"83","no_rekam_medis":"RM2025070024","title":"Tn","nama_lengkap":"Sule Prikitiw","jenis_kelamin":"L","tempat_lahir":"Bandung","tanggal_lahir":"1980-01-12","status_perkawinan":"menikah","nomor_identitas":"303232948928","email":"sule@gmail.com","nomor_hp":"08512371231","status_aktif":"aktif","tanggal_daftar":"2025-07-29 03:47:48","tanggal_hapus":null,"created_at":"2025-07-29 03:47:48","updated_at":"2025-07-29 03:47:48","foto_identitas":"identitas_688844418155e.jpg","nama_dokter":"Administrator"}
INFO - 2025-11-02 11:20:33 --> Age calculated: 45 tahun
INFO - 2025-11-02 11:20:33 --> Data array prepared successfully
INFO - 2025-11-02 11:20:33 --> Processing detailed view, returning modal view
DEBUG - 2025-11-02 11:20:37 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-11-02 11:20:37 --> detailTagihan called with idPasien: RM2025070027, tanggal: 2025-11-02
INFO - 2025-11-02 11:20:37 --> Models initialized successfully
INFO - 2025-11-02 11:20:37 --> Tagihan query executed. Result: null
ERROR - 2025-11-02 11:20:37 --> Tagihan not found for idPasien: RM2025070027, tanggal: 2025-11-02
DEBUG - 2025-11-02 11:21:42 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:21:46 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:25:57 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:26:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:26:07 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:26:11 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-11-02 11:26:11 --> detailTagihan called with idPasien: RM2025070024, tanggal: 2025-11-02
INFO - 2025-11-02 11:26:11 --> Models initialized successfully
INFO - 2025-11-02 11:26:11 --> Tagihan query executed. Result: {"id_tagihan":"16","no_rm":"RM2025070024","no_resep":"49","total_biaya":"159000.00","detail_tagihan":"[{\"nama_obat\":\"Vitamin C 500mg\",\"jumlah\":\"4\",\"satuan\":\"Tablet\",\"harga_satuan\":\"6000.00\",\"subtotal\":24000},{\"nama_item\":\"Biaya Administrasi\",\"harga\":35000},{\"nama_item\":\"Biaya Dokter\",\"harga\":100000}]","status":"pending","tanggal_tagihan":"2025-11-02 11:20:02","tanggal_bayar":null,"metode_pembayaran":null,"jumlah_bayar":"0.00","kembalian":"0.00","kasir_id":null,"keterangan":null,"created_at":"2025-11-02 11:20:02","updated_at":"2025-11-02 11:20:02","nama_pasien":"Sule Prikitiw","tanggal_lahir":"1980-01-12"}
INFO - 2025-11-02 11:26:11 --> Tagihan found, parsing detail_tagihan
INFO - 2025-11-02 11:26:11 --> Detail tagihan parsed: [{"nama_obat":"Vitamin C 500mg","jumlah":"4","satuan":"Tablet","harga_satuan":"6000.00","subtotal":24000},{"nama_item":"Biaya Administrasi","harga":35000},{"nama_item":"Biaya Dokter","harga":100000}]
INFO - 2025-11-02 11:26:11 --> Processed obat item: Vitamin C 500mg with price: 6000.00
INFO - 2025-11-02 11:26:11 --> Resep list processed. Total obat: 24000
INFO - 2025-11-02 11:26:11 --> Additional models initialized
INFO - 2025-11-02 11:26:11 --> Pasien info query executed: {"id":"83","no_rekam_medis":"RM2025070024","title":"Tn","nama_lengkap":"Sule Prikitiw","jenis_kelamin":"L","tempat_lahir":"Bandung","tanggal_lahir":"1980-01-12","status_perkawinan":"menikah","nomor_identitas":"303232948928","email":"sule@gmail.com","nomor_hp":"08512371231","status_aktif":"aktif","tanggal_daftar":"2025-07-29 03:47:48","tanggal_hapus":null,"created_at":"2025-07-29 03:47:48","updated_at":"2025-07-29 03:47:48","foto_identitas":"identitas_688844418155e.jpg","nama_dokter":"Administrator"}
INFO - 2025-11-02 11:26:11 --> Age calculated: 45 tahun
INFO - 2025-11-02 11:26:11 --> Data array prepared successfully
INFO - 2025-11-02 11:26:11 --> Processing detailed view, returning modal view
DEBUG - 2025-11-02 11:26:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-11-02 11:26:20 --> detailTagihan called with idPasien: RM2025070027, tanggal: 2025-11-02
INFO - 2025-11-02 11:26:20 --> Models initialized successfully
INFO - 2025-11-02 11:26:20 --> Tagihan query executed. Result: null
INFO - 2025-11-02 11:26:20 --> Pasien tanpa resep, created temporary tagihan: {"id_tagihan":null,"no_rm":"RM2025070027","nama_pasien":"hengko","tanggal_lahir":"2004-12-20","tanggal_tagihan":"2025-11-02 15:54:44","total_biaya":60000,"status":"pending","detail_tagihan":null}
INFO - 2025-11-02 11:26:20 --> Tagihan found, parsing detail_tagihan
WARNING - 2025-11-02 11:26:20 --> [DEPRECATED] json_decode(): Passing null to parameter #1 ($json) of type string is deprecated in APPPATH\Controllers\Kasir.php on line 160.
 1 APPPATH\Controllers\Kasir.php(160): json_decode(null, true)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Kasir->detailTagihan('RM2025070027', '2025-11-02')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Kasir))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(56): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
 8 SYSTEMPATH\rewrite.php(44): require_once('D:\\KP\\SIMRSv2\\public\\index.php')
INFO - 2025-11-02 11:26:20 --> Detail tagihan parsed: []
INFO - 2025-11-02 11:26:20 --> Resep list processed. Total obat: 0
INFO - 2025-11-02 11:26:20 --> Additional models initialized
INFO - 2025-11-02 11:26:20 --> Pasien info query executed: {"id":"86","no_rekam_medis":"RM2025070027","title":"Tn","nama_lengkap":"hengko","jenis_kelamin":"L","tempat_lahir":"garut","tanggal_lahir":"2004-12-20","status_perkawinan":"menikah","nomor_identitas":"303382173812731","email":"hengki@gmail.com","nomor_hp":"0824124123","status_aktif":"aktif","tanggal_daftar":"2025-07-29 09:05:54","tanggal_hapus":null,"created_at":"2025-07-29 09:05:54","updated_at":"2025-07-29 09:05:54","foto_identitas":"identitas_68888ed5c24ed.jpg","nama_dokter":null}
INFO - 2025-11-02 11:26:20 --> Age calculated: 20 tahun
INFO - 2025-11-02 11:26:20 --> Data array prepared successfully
INFO - 2025-11-02 11:26:20 --> Processing detailed view, returning modal view
DEBUG - 2025-11-02 11:26:29 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-11-02 11:26:29 --> detailTagihan called with idPasien: RM2025070024, tanggal: 2025-11-02
INFO - 2025-11-02 11:26:29 --> Models initialized successfully
INFO - 2025-11-02 11:26:29 --> Tagihan query executed. Result: {"id_tagihan":"16","no_rm":"RM2025070024","no_resep":"49","total_biaya":"159000.00","detail_tagihan":"[{\"nama_obat\":\"Vitamin C 500mg\",\"jumlah\":\"4\",\"satuan\":\"Tablet\",\"harga_satuan\":\"6000.00\",\"subtotal\":24000},{\"nama_item\":\"Biaya Administrasi\",\"harga\":35000},{\"nama_item\":\"Biaya Dokter\",\"harga\":100000}]","status":"pending","tanggal_tagihan":"2025-11-02 11:20:02","tanggal_bayar":null,"metode_pembayaran":null,"jumlah_bayar":"0.00","kembalian":"0.00","kasir_id":null,"keterangan":null,"created_at":"2025-11-02 11:20:02","updated_at":"2025-11-02 11:20:02","nama_pasien":"Sule Prikitiw","tanggal_lahir":"1980-01-12"}
INFO - 2025-11-02 11:26:29 --> Tagihan found, parsing detail_tagihan
INFO - 2025-11-02 11:26:29 --> Detail tagihan parsed: [{"nama_obat":"Vitamin C 500mg","jumlah":"4","satuan":"Tablet","harga_satuan":"6000.00","subtotal":24000},{"nama_item":"Biaya Administrasi","harga":35000},{"nama_item":"Biaya Dokter","harga":100000}]
INFO - 2025-11-02 11:26:29 --> Processed obat item: Vitamin C 500mg with price: 6000.00
INFO - 2025-11-02 11:26:29 --> Resep list processed. Total obat: 24000
INFO - 2025-11-02 11:26:29 --> Additional models initialized
INFO - 2025-11-02 11:26:29 --> Pasien info query executed: {"id":"83","no_rekam_medis":"RM2025070024","title":"Tn","nama_lengkap":"Sule Prikitiw","jenis_kelamin":"L","tempat_lahir":"Bandung","tanggal_lahir":"1980-01-12","status_perkawinan":"menikah","nomor_identitas":"303232948928","email":"sule@gmail.com","nomor_hp":"08512371231","status_aktif":"aktif","tanggal_daftar":"2025-07-29 03:47:48","tanggal_hapus":null,"created_at":"2025-07-29 03:47:48","updated_at":"2025-07-29 03:47:48","foto_identitas":"identitas_688844418155e.jpg","nama_dokter":"Administrator"}
INFO - 2025-11-02 11:26:29 --> Age calculated: 45 tahun
INFO - 2025-11-02 11:26:29 --> Data array prepared successfully
INFO - 2025-11-02 11:26:29 --> Processing detailed view, returning modal view
DEBUG - 2025-11-02 11:26:33 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-11-02 11:26:33 --> detailTagihan called with idPasien: RM2025070027, tanggal: 2025-11-02
INFO - 2025-11-02 11:26:33 --> Models initialized successfully
INFO - 2025-11-02 11:26:33 --> Tagihan query executed. Result: null
INFO - 2025-11-02 11:26:33 --> Pasien tanpa resep, created temporary tagihan: {"id_tagihan":null,"no_rm":"RM2025070027","nama_pasien":"hengko","tanggal_lahir":"2004-12-20","tanggal_tagihan":"2025-11-02 15:54:44","total_biaya":60000,"status":"pending","detail_tagihan":null}
INFO - 2025-11-02 11:26:33 --> Tagihan found, parsing detail_tagihan
WARNING - 2025-11-02 11:26:33 --> [DEPRECATED] json_decode(): Passing null to parameter #1 ($json) of type string is deprecated in APPPATH\Controllers\Kasir.php on line 160.
 1 APPPATH\Controllers\Kasir.php(160): json_decode(null, true)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Kasir->detailTagihan('RM2025070027', '2025-11-02')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Kasir))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(56): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
 8 SYSTEMPATH\rewrite.php(44): require_once('D:\\KP\\SIMRSv2\\public\\index.php')
INFO - 2025-11-02 11:26:33 --> Detail tagihan parsed: []
INFO - 2025-11-02 11:26:33 --> Resep list processed. Total obat: 0
INFO - 2025-11-02 11:26:33 --> Additional models initialized
INFO - 2025-11-02 11:26:33 --> Pasien info query executed: {"id":"86","no_rekam_medis":"RM2025070027","title":"Tn","nama_lengkap":"hengko","jenis_kelamin":"L","tempat_lahir":"garut","tanggal_lahir":"2004-12-20","status_perkawinan":"menikah","nomor_identitas":"303382173812731","email":"hengki@gmail.com","nomor_hp":"0824124123","status_aktif":"aktif","tanggal_daftar":"2025-07-29 09:05:54","tanggal_hapus":null,"created_at":"2025-07-29 09:05:54","updated_at":"2025-07-29 09:05:54","foto_identitas":"identitas_68888ed5c24ed.jpg","nama_dokter":null}
INFO - 2025-11-02 11:26:33 --> Age calculated: 20 tahun
INFO - 2025-11-02 11:26:33 --> Data array prepared successfully
INFO - 2025-11-02 11:26:33 --> Processing detailed view, returning modal view
DEBUG - 2025-11-02 11:29:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:30:25 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:30:41 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-11-02 11:30:41 --> detailTagihan called with idPasien: RM2025070027, tanggal: 2025-11-02
INFO - 2025-11-02 11:30:41 --> Models initialized successfully
INFO - 2025-11-02 11:30:41 --> Tagihan query executed. Result: null
INFO - 2025-11-02 11:30:41 --> Pasien tanpa resep, created temporary tagihan: {"id_tagihan":null,"no_rm":"RM2025070027","nama_pasien":"hengko","tanggal_lahir":"2004-12-20","tanggal_tagihan":"2025-11-02 15:54:44","total_biaya":60000,"status":"pending","detail_tagihan":null}
INFO - 2025-11-02 11:30:41 --> Tagihan found, parsing detail_tagihan
WARNING - 2025-11-02 11:30:41 --> [DEPRECATED] json_decode(): Passing null to parameter #1 ($json) of type string is deprecated in APPPATH\Controllers\Kasir.php on line 160.
 1 APPPATH\Controllers\Kasir.php(160): json_decode(null, true)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Kasir->detailTagihan('RM2025070027', '2025-11-02')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Kasir))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(56): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
 8 SYSTEMPATH\rewrite.php(44): require_once('D:\\KP\\SIMRSv2\\public\\index.php')
INFO - 2025-11-02 11:30:41 --> Detail tagihan parsed: []
INFO - 2025-11-02 11:30:41 --> Resep list processed. Total obat: 0
INFO - 2025-11-02 11:30:41 --> Additional models initialized
INFO - 2025-11-02 11:30:41 --> Pasien info query executed: {"id":"86","no_rekam_medis":"RM2025070027","title":"Tn","nama_lengkap":"hengko","jenis_kelamin":"L","tempat_lahir":"garut","tanggal_lahir":"2004-12-20","status_perkawinan":"menikah","nomor_identitas":"303382173812731","email":"hengki@gmail.com","nomor_hp":"0824124123","status_aktif":"aktif","tanggal_daftar":"2025-07-29 09:05:54","tanggal_hapus":null,"created_at":"2025-07-29 09:05:54","updated_at":"2025-07-29 09:05:54","foto_identitas":"identitas_68888ed5c24ed.jpg","nama_dokter":null}
INFO - 2025-11-02 11:30:41 --> Age calculated: 20 tahun
INFO - 2025-11-02 11:30:41 --> Data array prepared successfully
INFO - 2025-11-02 11:30:41 --> Processing detailed view, returning modal view
DEBUG - 2025-11-02 11:30:49 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-11-02 11:30:49 --> Proses Pembayaran Data: idPasien=RM2025070027, tanggal=2025-11-02, jumlahBayar=60000, metodeBayar=cash, totalTagihan=60000
INFO - 2025-11-02 11:30:49 --> Created new tagihan for pasien tanpa resep: {"id_tagihan":17,"no_rm":"RM2025070027","total_biaya":60000,"status":"pending"}
INFO - 2025-11-02 11:30:49 --> Update Data: {"status":"paid","tanggal_bayar":"2025-11-02 11:30:49","metode_pembayaran":"cash","jumlah_bayar":60000,"kembalian":0,"kasir_id":"1","keterangan":"Pembayaran Konsultasi & Admin - Cash"}
INFO - 2025-11-02 11:30:49 --> Tagihan ID to update: 17
INFO - 2025-11-02 11:30:49 --> Total Biaya: 60000
INFO - 2025-11-02 11:30:49 --> Jumlah Bayar (float): 60000
INFO - 2025-11-02 11:30:49 --> Kembalian (calculated): 0
INFO - 2025-11-02 11:30:49 --> Update Result: SUCCESS
INFO - 2025-11-02 11:30:49 --> Updated antrian id=109 status to Selesai for no_rm: RM2025070027
DEBUG - 2025-11-02 11:30:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:30:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:31:05 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-11-02 11:31:05 --> detailTagihan called with idPasien: RM2025070027, tanggal: 2025-11-02
INFO - 2025-11-02 11:31:05 --> Models initialized successfully
INFO - 2025-11-02 11:31:05 --> Tagihan query executed. Result: {"id_tagihan":"17","no_rm":"RM2025070027","no_resep":null,"total_biaya":"60000.00","detail_tagihan":null,"status":"paid","tanggal_tagihan":"2025-11-02 11:30:49","tanggal_bayar":"2025-11-02 11:30:49","metode_pembayaran":"","jumlah_bayar":"60000.00","kembalian":"0.00","kasir_id":"1","keterangan":"Pembayaran Konsultasi & Admin - Cash","created_at":"2025-11-02 11:30:49","updated_at":"2025-11-02 11:30:49","nama_pasien":"hengko","tanggal_lahir":"2004-12-20"}
INFO - 2025-11-02 11:31:05 --> Tagihan found, parsing detail_tagihan
WARNING - 2025-11-02 11:31:05 --> [DEPRECATED] json_decode(): Passing null to parameter #1 ($json) of type string is deprecated in APPPATH\Controllers\Kasir.php on line 160.
 1 APPPATH\Controllers\Kasir.php(160): json_decode(null, true)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Kasir->detailTagihan('RM2025070027', '2025-11-02')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Kasir))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(56): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
 8 SYSTEMPATH\rewrite.php(44): require_once('D:\\KP\\SIMRSv2\\public\\index.php')
INFO - 2025-11-02 11:31:05 --> Detail tagihan parsed: []
INFO - 2025-11-02 11:31:05 --> Resep list processed. Total obat: 0
INFO - 2025-11-02 11:31:05 --> Additional models initialized
INFO - 2025-11-02 11:31:05 --> Pasien info query executed: {"id":"86","no_rekam_medis":"RM2025070027","title":"Tn","nama_lengkap":"hengko","jenis_kelamin":"L","tempat_lahir":"garut","tanggal_lahir":"2004-12-20","status_perkawinan":"menikah","nomor_identitas":"303382173812731","email":"hengki@gmail.com","nomor_hp":"0824124123","status_aktif":"aktif","tanggal_daftar":"2025-07-29 09:05:54","tanggal_hapus":null,"created_at":"2025-07-29 09:05:54","updated_at":"2025-07-29 09:05:54","foto_identitas":"identitas_68888ed5c24ed.jpg","nama_dokter":null}
INFO - 2025-11-02 11:31:05 --> Age calculated: 20 tahun
INFO - 2025-11-02 11:31:05 --> Data array prepared successfully
INFO - 2025-11-02 11:31:05 --> Processing simple view type
INFO - 2025-11-02 11:31:05 --> Simple data prepared, returning JSON
DEBUG - 2025-11-02 11:31:12 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
WARNING - 2025-11-02 11:31:12 --> [DEPRECATED] json_decode(): Passing null to parameter #1 ($json) of type string is deprecated in APPPATH\Controllers\Kasir.php on line 579.
 1 APPPATH\Controllers\Kasir.php(579): json_decode(null, true)
 2 SYSTEMPATH\CodeIgniter.php(933): App\Controllers\Kasir->printTagihan('RM2025070027', '2025-11-02')
 3 SYSTEMPATH\CodeIgniter.php(507): CodeIgniter\CodeIgniter->runController(Object(App\Controllers\Kasir))
 4 SYSTEMPATH\CodeIgniter.php(354): CodeIgniter\CodeIgniter->handleRequest(null, Object(Config\Cache), false)
 5 SYSTEMPATH\Boot.php(334): CodeIgniter\CodeIgniter->run()
 6 SYSTEMPATH\Boot.php(67): CodeIgniter\Boot::runCodeIgniter(Object(CodeIgniter\CodeIgniter))
 7 FCPATH\index.php(56): CodeIgniter\Boot::bootWeb(Object(Config\Paths))
 8 SYSTEMPATH\rewrite.php(44): require_once('D:\\KP\\SIMRSv2\\public\\index.php')
DEBUG - 2025-11-02 11:31:50 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-11-02 11:31:50 --> detailTagihan called with idPasien: 2025070005, tanggal: 2025-11-01
INFO - 2025-11-02 11:31:50 --> Models initialized successfully
INFO - 2025-11-02 11:31:50 --> Tagihan query executed. Result: {"id_tagihan":"15","no_rm":"2025070005","no_resep":"48","total_biaya":"140000.00","detail_tagihan":"[{\"nama_obat\":\"Antasida DOEN\",\"jumlah\":\"1\",\"satuan\":\"Tablet\",\"harga_satuan\":\"5000.00\",\"subtotal\":5000},{\"nama_item\":\"Biaya Administrasi\",\"harga\":35000},{\"nama_item\":\"Biaya Dokter\",\"harga\":100000}]","status":"paid","tanggal_tagihan":"2025-11-01 20:12:14","tanggal_bayar":"2025-11-01 20:12:37","metode_pembayaran":"","jumlah_bayar":"140000.00","kembalian":"0.00","kasir_id":"1","keterangan":"Pembayaran berhasil - Cash","created_at":"2025-11-01 20:12:14","updated_at":"2025-11-01 20:12:37","nama_pasien":"abel","tanggal_lahir":"2007-02-02"}
INFO - 2025-11-02 11:31:50 --> Tagihan found, parsing detail_tagihan
INFO - 2025-11-02 11:31:50 --> Detail tagihan parsed: [{"nama_obat":"Antasida DOEN","jumlah":"1","satuan":"Tablet","harga_satuan":"5000.00","subtotal":5000},{"nama_item":"Biaya Administrasi","harga":35000},{"nama_item":"Biaya Dokter","harga":100000}]
INFO - 2025-11-02 11:31:50 --> Processed obat item: Antasida DOEN with price: 5000.00
INFO - 2025-11-02 11:31:50 --> Resep list processed. Total obat: 5000
INFO - 2025-11-02 11:31:50 --> Additional models initialized
INFO - 2025-11-02 11:31:50 --> Pasien info query executed: {"id":"48","no_rekam_medis":"2025070005","title":"Ny","nama_lengkap":"abel","jenis_kelamin":"P","tempat_lahir":"jakarta","tanggal_lahir":"2007-02-02","status_perkawinan":"menikah","nomor_identitas":"303124123132125","email":"test@gmail.com","nomor_hp":"0824124123","status_aktif":"aktif","tanggal_daftar":"2025-07-23 14:47:32","tanggal_hapus":null,"created_at":"2025-07-23 14:47:32","updated_at":"2025-07-23 14:47:32","foto_identitas":"","nama_dokter":"Administrator"}
INFO - 2025-11-02 11:31:50 --> Age calculated: 18 tahun
INFO - 2025-11-02 11:31:50 --> Data array prepared successfully
INFO - 2025-11-02 11:31:50 --> Processing simple view type
INFO - 2025-11-02 11:31:50 --> Simple data prepared, returning JSON
DEBUG - 2025-11-02 11:32:15 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:32:16 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:47:20 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:47:22 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
INFO - 2025-11-02 11:47:22 --> [getAntrianPendaftaran] CURDATE: 2025-11-02
INFO - 2025-11-02 11:47:22 --> [getAntrianPendaftaran] Query: SELECT 
                    a.id,
                    a.no_antrian,
                    a.no_rm,
                    p.nama_lengkap as nama_pasien,
                    pol.nama as poli_tujuan,
                    a.status,
                    a.created_at,
                    DATE(a.created_at) as created_date
                FROM antrian a
                LEFT JOIN pasien p ON BINARY p.no_rekam_medis = BINARY a.no_rm
                LEFT JOIN poliklinik pol ON pol.id = a.id_poli
                WHERE a.status = 'Menunggu Pemeriksaan'
                  AND DATE(a.created_at) = CURDATE()
                ORDER BY a.created_at ASC
INFO - 2025-11-02 11:47:22 --> [getAntrianPendaftaran] Total rows: 0
INFO - 2025-11-02 11:47:22 --> [getAntrianPendaftaran] Data: []
DEBUG - 2025-11-02 11:47:22 --> [Perawat::getAntrianPendaftaran] Builder state before execute
DEBUG - 2025-11-02 11:47:22 --> [Perawat::getAntrianPendaftaran] SQL: SELECT 
                    a.id,
                    a.no_antrian,
                    a.no_rm,
                    p.nama_lengkap as nama_pasien,
                    pol.nama as poli_tujuan,
                    a.status,
                    a.created_at,
                    DATE(a.created_at) as created_date
                FROM antrian a
                LEFT JOIN pasien p ON BINARY p.no_rekam_medis = BINARY a.no_rm
                LEFT JOIN poliklinik pol ON pol.id = a.id_poli
                WHERE a.status = 'Menunggu Pemeriksaan'
                  AND DATE(a.created_at) = CURDATE()
                ORDER BY a.created_at ASC
DEBUG - 2025-11-02 11:47:22 --> [Perawat::getAntrianPendaftaran] Data count: 0
DEBUG - 2025-11-02 11:47:22 --> [Perawat::getAntrianPendaftaran] Data: []
DEBUG - 2025-11-02 11:47:22 --> Response: {"data":[],"recordsTotal":0,"recordsFiltered":0,"debug":{"sql":"SELECT \n                    a.id,\n                    a.no_antrian,\n                    a.no_rm,\n                    p.nama_lengkap as nama_pasien,\n                    pol.nama as poli_tujuan,\n                    a.status,\n                    a.created_at,\n                    DATE(a.created_at) as created_date\n                FROM antrian a\n                LEFT JOIN pasien p ON BINARY p.no_rekam_medis = BINARY a.no_rm\n                LEFT JOIN poliklinik pol ON pol.id = a.id_poli\n                WHERE a.status = 'Menunggu Pemeriksaan'\n                  AND DATE(a.created_at) = CURDATE()\n                ORDER BY a.created_at ASC","error":null}}
DEBUG - 2025-11-02 11:47:27 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:47:30 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:47:31 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:47:44 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:47:54 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:47:55 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
DEBUG - 2025-11-02 11:48:02 --> Session: Class initialized using 'CodeIgniter\Session\Handlers\FileHandler' driver.
